var __defProp=Object.defineProperty,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,n,t)=>n in e?__defProp(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,__spreadValues=(e,n)=>{for(var t in n||(n={}))__hasOwnProp.call(n,t)&&__defNormalProp(e,t,n[t]);if(__getOwnPropSymbols)for(var t of __getOwnPropSymbols(n))__propIsEnum.call(n,t)&&__defNormalProp(e,t,n[t]);return e},__objRest=(e,n)=>{var t={};for(var o in e)__hasOwnProp.call(e,o)&&n.indexOf(o)<0&&(t[o]=e[o]);if(null!=e&&__getOwnPropSymbols)for(var o of __getOwnPropSymbols(e))n.indexOf(o)<0&&__propIsEnum.call(e,o)&&(t[o]=e[o]);return t};!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("vue"),require("lodash-es"),require("raf")):"function"==typeof define&&define.amd?define(["exports","vue","lodash-es","raf"],n):n((e="undefined"!=typeof globalThis?globalThis:e||self).Vue3NormalLibrary={},e.Vue,e.lodashEs,e.requestAnimationFrame)}(this,(function(e,n,t,o){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var u=r(o);function a(e){const o=n.getCurrentInstance();o&&t.assign(o.proxy,e)}const i="undefined"!=typeof window,l={type:Boolean,default:!0},s=(e,n)=>n?"string"==typeof n?` ${e}--${n}`:Array.isArray(n)?n.reduce(((n,t)=>n+s(e,t)),""):Object.keys(n).reduce(((t,o)=>t+(n[o]?s(e,o):"")),""):"";function c(e,n,t){const o=e.indexOf(n);return-1===o?e:"-"===n&&0!==o?e.slice(0,o):e.slice(0,o+1)+e.slice(o).replace(t,"")}function f(e){return null!=e}function d(e){return"function"==typeof e}function p(e){return null!==e&&"object"==typeof e}function h(e){return"number"==typeof e||/^\d+(\.\d+)?$/.test(e)}function v(e){t.isNumber(e)?u.default.cancel(e):t.isArray(e)&&t.forEach(e,v)}function m(e){return u.default(e)}const b=1e3,y=6e4,_=36e5,g=24*_,M=e=>({day:Math.floor(e/g),dayHourMinuteSecond:(()=>{const n=Math.floor(e/g),t=Math.floor(e%g/_),o=Math.floor(e%_/y),r=Math.floor(e%y/b);return{days:n,hours:t,milliseconds:Math.floor(e%b),minutes:o,seconds:r}})(),hour:Math.floor(e/_),hourMinuteSecond:(()=>{const n=Math.floor(e/_),t=Math.floor(e%_/y),o=Math.floor(e%y/b);return{hours:n,milliseconds:Math.floor(e%b),minutes:t,seconds:o}})(),minute:Math.floor(e/y),minuteSecond:(()=>{const n=Math.floor(e/y),t=Math.floor(e%y/b);return{milliseconds:Math.floor(e%b),minutes:n,seconds:t}})(),second:Math.floor(e/b)});function O(e){const t=[],o=e=>{Array.isArray(e)&&e.forEach((e=>{var r;n.isVNode(e)&&(t.push(e),(null==(r=e.component)?void 0:r.subTree)&&o(e.component.subTree.children),e.children&&o(e.children))}))};return o(e),t}function w(e,n,t){const o=O(e.subTree.children);t.sort(((e,n)=>o.indexOf(e.vnode)-o.indexOf(n.vnode)));const r=t.map((e=>e.proxy));n.sort(((e,n)=>r.indexOf(e)-r.indexOf(n)))}e.UnknownProp=null,e.addUnit=function(e){if(f(e))return h(e)?`${e}px`:String(e)},e.block=(e,n="bee-")=>{return t=n+e,function(e,n){return e&&"string"!=typeof e&&(n=e,e=""),`${e=e?`${t}__${e}`:t}${s(e,n)}`};var t},e.cancelRaf=v,e.doubleRaf=function(e){const n=[0,0];return n[1]=u.default((()=>{n[0]=u.default(e)})),n},e.flattenVNodes=O,e.formatNumber=function(e,n=!0,t=!0){e=n?c(e,".",/\./g):e.split(".")[0];const o=n?/[^-0-9.]/g:/[^-0-9]/g;return(e=t?c(e,"-",/-/g):e.replace(/-/,"")).replace(o,"")},e.inBrowser=i,e.initDefaultProps=function(e,n){const t=__spreadValues({},e);return Object.keys(n).forEach((e=>{const o=t[e];if(!o)throw new Error(`not have ${e} prop`);o.default=n[e]})),t},e.isAndroid=function(){return!!i&&/android/.test(navigator.userAgent.toLowerCase())},e.isDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)&&!Number.isNaN(e.getTime())},e.isDef=f,e.isFunction=d,e.isIOS=function(){return!!i&&/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase())},e.isMobile=function(e){return e=e.replace(/[^-|\d]/g,""),/^((\+86)|(86))?(1)\d{10}$/.test(e)||/^0[0-9-]{10,13}$/.test(e)},e.isNumeric=h,e.isObject=p,e.isPromise=function(e){return p(e)&&d(e.then)&&d(e.catch)},e.mountComponent=function(e){const t=n.createApp(e),o=document.createElement("div");return document.body.appendChild(o),{instance:t.mount(o),unmount(){t.unmount(),document.body.removeChild(o)}}},e.noop=function(){},e.onMountedOrActivated=function(e){let t;n.onMounted((()=>{e(),n.nextTick((()=>{t=!0})).then()})),n.onActivated((()=>{t&&e()}))},e.parseTime=M,e.raf=m,e.range=function(e,n,t){return Math.min(Math.max(e,n),t)},e.sortChildren=w,e.truthProp=l,e.tuple=(...e)=>e,e.tupleNum=(...e)=>e,e.useChildren=function(e){const t=n.reactive([]),o=n.reactive([]),r=n.getCurrentInstance();return{children:t,linkChildren:u=>{n.provide(e,__spreadValues({link:e=>{e.proxy&&(o.push(e),t.push(e.proxy),r&&w(r,t,o))},unlink:e=>{const n=o.indexOf(e);t.splice(n,1),o.splice(n,1)},children:t,internalChildren:o},u))}}},e.useCountDown=e=>{let t,o,r,u;const a=n.ref(e.time),l=n.computed((()=>M(a.value))),s=()=>{r=!1,v(t)},c=()=>Math.max(o-Date.now(),0),f=n=>{var t,o;a.value=n,null==(t=e.onChange)||t.call(e,l.value),0===n&&(s(),null==(o=e.onFinish)||o.call(e))},d=()=>{t=m((()=>{r&&(f(c()),a.value>0&&d())}))},p=()=>{t=m((()=>{if(r){const t=c();e=t,n=a.value,(Math.floor(e/1e3)!==Math.floor(n/1e3)||0===t)&&f(t),a.value>0&&p()}var e,n}))},h=()=>{i&&(e.millisecond?d():p())};return n.onBeforeUnmount(s),n.onActivated((()=>{u&&(r=!0,u=!1,h())})),n.onDeactivated((()=>{r&&(s(),u=!0)})),{start:()=>{r||(o=Date.now()+a.value,r=!0,h())},pause:s,reset:(n=e.time)=>{s(),a.value=n},current:l}},e.useExpose=a,e.useLock=function(e){const t=n.ref(!1);return async function(...o){if(!n.unref(t)){t.value=!0;try{const n=await e(...o);return t.value=!1,n}catch(r){throw t.value=!1,r}}}},e.useParent=function(e){const t=n.inject(e,null);if(t){const e=n.getCurrentInstance(),o=t,{link:r,unlink:u,internalChildren:a}=o,i=__objRest(o,["link","unlink","internalChildren"]);r(e),n.onUnmounted((()=>u(e)));return{parent:i,index:n.computed((()=>a.indexOf(e)))}}return{parent:null,index:n.ref(-1)}},e.usePopupState=function(){const e=n.reactive({visible:!1}),o=n=>{e.visible=n},r=r=>{t.assign(e,r),n.nextTick((()=>o(!0))).then()},u=()=>o(!1);return a({open:r,close:u,toggle:o}),{open:r,close:u,state:e,toggle:o}},e.useState=function(e){const t=n.ref(e);return[t,e=>(t.value=e,e)]},e.useTouch=function(){const e=n.ref(0),t=n.ref(0),o=n.ref(0),r=n.ref(0),u=n.ref(0),a=n.ref(0),i=n.ref(""),l=()=>{o.value=0,r.value=0,u.value=0,a.value=0,i.value=""};return{move:n=>{const l=n.touches[0];var s,c;o.value=l.clientX<0?0:l.clientX-e.value,r.value=l.clientY-t.value,u.value=Math.abs(o.value),a.value=Math.abs(r.value),i.value||(i.value=(s=u.value,c=a.value,s>c&&s>10?"horizontal":c>s&&c>10?"vertical":""))},start:n=>{l(),e.value=n.touches[0].clientX,t.value=n.touches[0].clientY},reset:l,startX:e,startY:t,deltaX:o,deltaY:r,offsetX:u,offsetY:a,direction:i,isVertical:()=>"vertical"===i.value,isHorizontal:()=>"horizontal"===i.value}},e.withInstall=function(e){return e.install=n=>{const{name:o}=e;n.component(o,e),n.component(t.camelCase(`-${o}`),e)},e},Object.defineProperty(e,"__esModule",{value:!0}),e[Symbol.toStringTag]="Module"}));
