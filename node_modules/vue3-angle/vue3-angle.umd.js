(function(i,u){typeof exports=="object"&&typeof module!="undefined"?u(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],u):(i=typeof globalThis!="undefined"?globalThis:i||self,u(i.Vue3Angle={},i.Vue))})(this,function(i,u){"use strict";const m=(t,e)=>{const r=t.getBoundingClientRect(),n=r.left+r.width/2,l=r.top+r.height/2,d=Math.abs(n-e.clientX),o=Math.abs(l-e.clientY),a=Math.sqrt(Math.pow(d,2)+Math.pow(o,2)),s=o/a,y=Math.acos(s);let c=Math.floor(180/(Math.PI/y));return e.clientX>n&&e.clientY>l&&(c=180-c),e.clientX==n&&e.clientY>l&&(c=180),e.clientX>n&&e.clientY==l&&(c=90),e.clientX<n&&e.clientY>l&&(c=180+c),e.clientX<n&&e.clientY==l&&(c=270),e.clientX<n&&e.clientY<l&&(c=360-c),c};let f=!1;const h=(t,e)=>{const r=function(l){var d;(d=e.drag)==null||d.call(e,l)},n=function(l){var d;document.removeEventListener("mousemove",r,!1),document.removeEventListener("mouseup",n,!1),document.onselectstart=null,document.ondragstart=null,f=!1,(d=e.end)==null||d.call(e,l)};t&&t.addEventListener("mousedown",l=>{var d;f||(document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener("mousemove",r,!1),document.addEventListener("mouseup",n,!1),f=!0,(d=e.start)==null||d.call(e,l))})};var M="";const b={angle:{type:Number,default:0},size:{type:Number,default:16,validator:t=>t>=16},borderWidth:{type:Number,default:1,validator:t=>t>=1},borderColor:{type:String,default:"#666"}};var g=u.defineComponent({name:"Angle",props:b,emits:["update:angle","change"],setup(t,{emit:e}){const r=u.ref(null),n=u.ref(t.angle);u.watch(()=>t.angle,a=>{n.value=a});const l=()=>{let a=Number(n.value);isNaN(a)||(a=a>360||a<0?t.angle:a,n.value=a===360?0:a,e("update:angle",n.value),e("change",n.value))},d=u.computed(()=>({width:t.size+"px",height:t.size+"px",borderWidth:t.borderWidth+"px",borderColor:t.borderColor,transform:`rotate(${n.value}deg)`})),o=a=>{r.value&&(n.value=m(r.value,a)%360,l())};return u.onMounted(()=>{const a={drag:s=>{o(s)},end:s=>{o(s)}};r.value&&h(r.value,a)}),()=>u.createVNode("div",{class:"bee-angle"},[u.createVNode("div",{class:"bee-angle__round",ref:r,style:d.value},null)])}});const v={install:t=>{t.component(g.name,g)}};i.Angle=g,i.default=v,Object.defineProperty(i,"__esModule",{value:!0}),i[Symbol.toStringTag]="Module"});
